<!DOCTYPE html>
<html lang="en">
<head>
    <title>Site</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/panel.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-3.5.1.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/turbolinks.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/search_index.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/searcher.js" type="text/javascript" charset="utf-8"></script>
<script src="../panel/tree.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/searchdoc.js" type="text/javascript" charset="utf-8"></script>
<meta name="data-rel-prefix" content="../">
<meta name="data-tree-keys" content='["Site"]'>


    <meta property="og:title" value="Site">

  

    <meta name="keywords" content="Site class, default, to_s, contact, dwc_creator, respond_to?, respond_to_missing?, method_missing, editable_by?, icon_url, home_page_wiki_path_by_locale, coordinate_systems, bounds?, bounds, ratatosk_name_providers, taxon_describers, using_recaptcha?, refresh_default_site, short_url, google_oauth_allowed?, export_path, login_featured_observations">
</head>

<body>
    <a class="sr-only sr-only-focusable" href="#content" data-turbolinks="false">Skip to Content</a>
    <a class="sr-only sr-only-focusable" href="#search" data-turbolinks="false">Skip to Search</a>

    <input type="checkbox" id="hamburger" class="panel_checkbox">
<label class="panel_mobile_button" for="hamburger"><span></span> Menu</label>
<nav class="panel panel_tree" id="panel" data-turbolinks-permanent>
  <div class="header">
    <input type="text" placeholder="Search (/) for a class, method, ..." autosave="searchdoc" results="10" id="search" autocomplete="off" tabindex="-1" />
    <label class="panel_mobile_button_close" for="hamburger"><span></span> Close</label>
  </div>
  <div class="tree">
    <ul>
    </ul>
  </div>
  <div class="result">
    <ul>
    </ul>
  </div>
  <a href="links.html" id="links">index</a>
</nav>


    <div class="banner">
        
        <h2>
            <span class="type">Class</span>
            Site
            
                <span class="parent">&lt;
                    
                    <a href="ApplicationRecord.html">ApplicationRecord</a>
                    
                </span>
            
        </h2>
        <ul class="files">
            
            <li><a href="../files/app/models/site_rb.html">app/models/site.rb</a></li>
            
            <li><a href="../files/lib/observation_search_rb.html">lib/observation_search.rb</a></li>
            
        </ul>
        
    </div>

    <main id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-bounds">bounds</a>,
              </li>
            
              
              <li>
                <a href="#method-i-bounds-3F">bounds?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-contact">contact</a>,
              </li>
            
              
              <li>
                <a href="#method-i-coordinate_systems">coordinate_systems</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-default">default</a>,
              </li>
            
              
              <li>
                <a href="#method-i-dwc_creator">dwc_creator</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-editable_by-3F">editable_by?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-export_path">export_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>G</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-google_oauth_allowed-3F">google_oauth_allowed?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-home_page_wiki_path_by_locale">home_page_wiki_path_by_locale</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-icon_url">icon_url</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-login_featured_observations">login_featured_observations</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-method_missing">method_missing</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-ratatosk_name_providers">ratatosk_name_providers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-refresh_default_site">refresh_default_site</a>,
              </li>
            
              
              <li>
                <a href="#method-i-respond_to-3F">respond_to?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-respond_to_missing-3F">respond_to_missing?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-short_url">short_url</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-taxon_describers">taxon_describers</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-using_recaptcha-3F">using_recaptcha?</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <h2 class="sectiontitle">Constants</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">OBSERVATIONS_FILTERS</td>
            <td>=</td>
            <td class="attr-value">%w(site place bounding_box).freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>site: only show obs added through this site place: only show obs within the specified place&#39;s boundary bounding_box: only show obs within the bounding box</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">STAFF_ONLY_PREFERENCES</td>
            <td>=</td>
            <td class="attr-value">[
:google_webmaster_dns_verification,
:google_webmaster_dns_verified,
:twitter_sign_in
].freeze</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <h2 class="sectiontitle">Class Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-c-default">
            
              <b>default</b>( options = {} )
            
            <a href="../classes/Site.html#method-c-default" name="method-c-default" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-c-default_source')" id="l_method-c-default_source">show</a>
                

                

                
              </p>
              <div id="method-c-default_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">354</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">default</span>( <span class="ruby-identifier">options</span> = {} )
<span class="line-num">355</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:refresh</span>]
<span class="line-num">356</span>     <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">delete</span>( <span class="ruby-string">&quot;sites_default&quot;</span> )
<span class="line-num">357</span>   <span class="ruby-keyword">end</span>
<span class="line-num">358</span>   <span class="ruby-keyword">if</span> ( <span class="ruby-identifier">cached</span> = <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">read</span>( <span class="ruby-string">&quot;sites_default&quot;</span> ) )
<span class="line-num">359</span>     <span class="ruby-keyword">return</span> <span class="ruby-identifier">cached</span>
<span class="line-num">360</span>   <span class="ruby-keyword">end</span>
<span class="line-num">361</span> 
<span class="line-num">362</span>   <span class="ruby-keyword">unless</span> <span class="ruby-identifier">site</span> = <span class="ruby-constant">Site</span>.<span class="ruby-identifier">includes</span>( <span class="ruby-value">:stored_preferences</span> ).<span class="ruby-identifier">first</span>
<span class="line-num">363</span>     <span class="ruby-identifier">site</span> = <span class="ruby-constant">Site</span>.<span class="ruby-identifier">create!</span>( <span class="ruby-value">name:</span> <span class="ruby-string">&quot;iNaturalist&quot;</span>, <span class="ruby-value">url:</span> <span class="ruby-string">&quot;http://localhost:3000&quot;</span> )
<span class="line-num">364</span>   <span class="ruby-keyword">end</span>
<span class="line-num">365</span> 
<span class="line-num">366</span>   <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">fetch</span>( <span class="ruby-string">&quot;sites_default&quot;</span> ) <span class="ruby-keyword">do</span>
<span class="line-num">367</span>     <span class="ruby-identifier">site</span>
<span class="line-num">368</span>   <span class="ruby-keyword">end</span>
<span class="line-num">369</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 class="sectiontitle">Instance Public methods</h2>
      
        <div class="method">
          <h3 class="title method-title" id="method-i-bounds">
            
              <b>bounds</b>()
            
            <a href="../classes/Site.html#method-i-bounds" name="method-i-bounds" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-bounds_source')" id="l_method-i-bounds_source">show</a>
                

                

                
              </p>
              <div id="method-i-bounds_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">461</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">bounds</span>
<span class="line-num">462</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">bounds?</span>
<span class="line-num">463</span> 
<span class="line-num">464</span>   { <span class="ruby-value">swlat:</span> <span class="ruby-identifier">geo_swlat</span>.<span class="ruby-identifier">to_f</span>, <span class="ruby-value">swlng:</span> <span class="ruby-identifier">geo_swlng</span>.<span class="ruby-identifier">to_f</span>,
<span class="line-num">465</span>     <span class="ruby-value">nelat:</span> <span class="ruby-identifier">geo_nelat</span>.<span class="ruby-identifier">to_f</span>, <span class="ruby-value">nelng:</span> <span class="ruby-identifier">geo_nelng</span>.<span class="ruby-identifier">to_f</span> }
<span class="line-num">466</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-bounds-3F">
            
              <b>bounds?</b>()
            
            <a href="../classes/Site.html#method-i-bounds-3F" name="method-i-bounds-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-bounds-3F_source')" id="l_method-i-bounds-3F_source">show</a>
                

                

                
              </p>
              <div id="method-i-bounds-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">456</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">bounds?</span>
<span class="line-num">457</span>   <span class="ruby-operator">!</span><span class="ruby-identifier">geo_swlat</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">geo_swlng</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span>
<span class="line-num">458</span>     <span class="ruby-operator">!</span><span class="ruby-identifier">geo_nelat</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">geo_nelng</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">459</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-contact">
            
              <b>contact</b>()
            
            <a href="../classes/Site.html#method-i-contact" name="method-i-contact" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>contact element for a <a href="DarwinCore.html"><code>DarwinCore</code></a> Archive (DwC-A). This is supposed to be the person data consumers can contact with questions about the archive</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-contact_source')" id="l_method-i-contact_source">show</a>
                

                

                
              </p>
              <div id="method-i-contact_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">377</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">contact</span>
<span class="line-num">378</span>   {
<span class="line-num">379</span>     <span class="ruby-value">first_name:</span> <span class="ruby-identifier">contact_first_name</span>,
<span class="line-num">380</span>     <span class="ruby-value">last_name:</span> <span class="ruby-identifier">contact_last_name</span>,
<span class="line-num">381</span>     <span class="ruby-value">organization:</span> <span class="ruby-identifier">contact_organization</span>,
<span class="line-num">382</span>     <span class="ruby-value">position:</span> <span class="ruby-identifier">contact_position</span>,
<span class="line-num">383</span>     <span class="ruby-value">address:</span> <span class="ruby-identifier">contact_address</span>,
<span class="line-num">384</span>     <span class="ruby-value">city:</span> <span class="ruby-identifier">contact_city</span>,
<span class="line-num">385</span>     <span class="ruby-value">admin_area:</span> <span class="ruby-identifier">contact_admin_area</span>,
<span class="line-num">386</span>     <span class="ruby-value">postal_code:</span> <span class="ruby-identifier">contact_postal_code</span>,
<span class="line-num">387</span>     <span class="ruby-value">country:</span> <span class="ruby-identifier">contact_country</span>,
<span class="line-num">388</span>     <span class="ruby-value">email:</span> <span class="ruby-identifier">contact_email</span>,
<span class="line-num">389</span>     <span class="ruby-value">url:</span> <span class="ruby-identifier">contact_url</span>
<span class="line-num">390</span>   }
<span class="line-num">391</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-coordinate_systems">
            
              <b>coordinate_systems</b>()
            
            <a href="../classes/Site.html#method-i-coordinate_systems" name="method-i-coordinate_systems" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-coordinate_systems_source')" id="l_method-i-coordinate_systems_source">show</a>
                

                

                
              </p>
              <div id="method-i-coordinate_systems_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">445</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">coordinate_systems</span>
<span class="line-num">446</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">coordinate_systems_json</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">447</span> 
<span class="line-num">448</span>   <span class="ruby-identifier">systems</span> = <span class="ruby-keyword">begin</span>
<span class="line-num">449</span>     <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span>( <span class="ruby-identifier">coordinate_systems_json</span> )
<span class="line-num">450</span>   <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span>
<span class="line-num">451</span>     {}
<span class="line-num">452</span>   <span class="ruby-keyword">end</span>
<span class="line-num">453</span>   <span class="ruby-identifier">systems</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">systems</span>
<span class="line-num">454</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-dwc_creator">
            
              <b>dwc_creator</b>()
            
            <a href="../classes/Site.html#method-i-dwc_creator" name="method-i-dwc_creator" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>creator element for use in a <a href="DarwinCore.html"><code>DarwinCore</code></a> Archive (DwC-A) According to the schema, “The creator is the person who created the resource (not necessarily the author of this metadata about the resource). This is the person or institution to contact with questions about the use, interpretation of a dataset.” Since no collection of iNat records was created by a single person, we are using the name of the site itself as the creator</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-dwc_creator_source')" id="l_method-i-dwc_creator_source">show</a>
                

                

                
              </p>
              <div id="method-i-dwc_creator_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">400</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dwc_creator</span>
<span class="line-num">401</span>   {
<span class="line-num">402</span>     <span class="ruby-value">organization:</span> <span class="ruby-identifier">name</span>,
<span class="line-num">403</span>     <span class="ruby-value">last_name:</span> <span class="ruby-node">&quot;#{name} contributors&quot;</span>
<span class="line-num">404</span>   }
<span class="line-num">405</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-editable_by-3F">
            
              <b>editable_by?</b>( user )
            
            <a href="../classes/Site.html#method-i-editable_by-3F" name="method-i-editable_by-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-editable_by-3F_source')" id="l_method-i-editable_by-3F_source">show</a>
                

                

                
              </p>
              <div id="method-i-editable_by-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">421</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">editable_by?</span>( <span class="ruby-identifier">user</span> )
<span class="line-num">422</span>   <span class="ruby-identifier">user</span> <span class="ruby-operator">&amp;&amp;</span> ( <span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_admin?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_site_admin_of?</span>( <span class="ruby-keyword">self</span> ) )
<span class="line-num">423</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-export_path">
            
              <b>export_path</b>()
            
            <a href="../classes/Site.html#method-i-export_path" name="method-i-export_path" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>Path where the site data export file <strong>should</strong> be. Actual generation happens via the export_site_data.rb script and the <a href="SiteDataExporter.html"><code>SiteDataExporter</code></a> class</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-export_path_source')" id="l_method-i-export_path_source">show</a>
                

                

                
              </p>
              <div id="method-i-export_path_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">513</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">export_path</span>
<span class="line-num">514</span>   <span class="ruby-identifier">private_page_cache_path</span>( <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(
<span class="line-num">515</span>     <span class="ruby-string">&quot;export_site_data&quot;</span>,
<span class="line-num">516</span>     <span class="ruby-node">&quot;#{SiteDataExporter.basename_for_site( self )}.zip&quot;</span>
<span class="line-num">517</span>   ) )
<span class="line-num">518</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-google_oauth_allowed-3F">
            
              <b>google_oauth_allowed?</b>()
            
            <a href="../classes/Site.html#method-i-google_oauth_allowed-3F" name="method-i-google_oauth_allowed-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>We can&#39;t use OAuth to authenticate a user with Google unless our OAuth authentication page has been approved by Google with the domain that is showing this button, and in order to do so, we need that domain to be verified under our Google account, and to do that we need the owner of the domain to add a DNS record (see the site settings page for the site in question)</p>

<p>So, in cases where we&#39;re trying to show a button to link a Google account AND the site does not use an inaturalist.org subdomain AND the site&#39;s domain has not been verified, we cannot show the button.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-google_oauth_allowed-3F_source')" id="l_method-i-google_oauth_allowed-3F_source">show</a>
                

                

                
              </p>
              <div id="method-i-google_oauth_allowed-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">504</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">google_oauth_allowed?</span>
<span class="line-num">505</span>   <span class="ruby-identifier">default_site_domain</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>( <span class="ruby-constant">Site</span>.<span class="ruby-identifier">default</span>.<span class="ruby-identifier">url</span> ).<span class="ruby-identifier">host</span>.<span class="ruby-identifier">to_s</span>[<span class="ruby-regexp">/\.(.+)$/</span>, <span class="ruby-value">1</span>]
<span class="line-num">506</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">default_site_domain</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">507</span> 
<span class="line-num">508</span>   <span class="ruby-identifier">prefers_google_webmaster_dns_verified?</span> <span class="ruby-operator">||</span> <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>( <span class="ruby-identifier">url</span>.<span class="ruby-identifier">to_s</span> ).<span class="ruby-identifier">host</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">include?</span>( <span class="ruby-identifier">default_site_domain</span> )
<span class="line-num">509</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-home_page_wiki_path_by_locale">
            
              <b>home_page_wiki_path_by_locale</b>( locale )
            
            <a href="../classes/Site.html#method-i-home_page_wiki_path_by_locale" name="method-i-home_page_wiki_path_by_locale" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-home_page_wiki_path_by_locale_source')" id="l_method-i-home_page_wiki_path_by_locale_source">show</a>
                

                

                
              </p>
              <div id="method-i-home_page_wiki_path_by_locale_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">431</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">home_page_wiki_path_by_locale</span>( <span class="ruby-identifier">locale</span> )
<span class="line-num">432</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">preferred_home_page_wiki_path_by_locale</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">433</span> 
<span class="line-num">434</span>   <span class="ruby-identifier">paths</span> = <span class="ruby-keyword">begin</span>
<span class="line-num">435</span>     <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span>( <span class="ruby-identifier">preferred_home_page_wiki_path_by_locale</span> )
<span class="line-num">436</span>   <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span>
<span class="line-num">437</span>     {}
<span class="line-num">438</span>   <span class="ruby-keyword">end</span>
<span class="line-num">439</span>   <span class="ruby-keyword">unless</span> ( <span class="ruby-identifier">path</span> = <span class="ruby-identifier">paths</span>[<span class="ruby-identifier">locale</span>.<span class="ruby-identifier">to_s</span>] )
<span class="line-num">440</span>     <span class="ruby-identifier">path</span> = <span class="ruby-identifier">paths</span>[<span class="ruby-identifier">locale</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>( <span class="ruby-string">&quot;-&quot;</span> )[<span class="ruby-value">0</span>]]
<span class="line-num">441</span>   <span class="ruby-keyword">end</span>
<span class="line-num">442</span>   <span class="ruby-identifier">path</span>
<span class="line-num">443</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-icon_url">
            
              <b>icon_url</b>()
            
            <a href="../classes/Site.html#method-i-icon_url" name="method-i-icon_url" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-icon_url_source')" id="l_method-i-icon_url_source">show</a>
                

                

                
              </p>
              <div id="method-i-icon_url_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">425</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">icon_url</span>
<span class="line-num">426</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">logo_square</span>.<span class="ruby-identifier">file?</span>
<span class="line-num">427</span> 
<span class="line-num">428</span>   <span class="ruby-identifier">logo_square</span>.<span class="ruby-identifier">url</span>
<span class="line-num">429</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-login_featured_observations">
            
              <b>login_featured_observations</b>()
            
            <a href="../classes/Site.html#method-i-login_featured_observations" name="method-i-login_featured_observations" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-login_featured_observations_source')" id="l_method-i-login_featured_observations_source">show</a>
                

                

                
              </p>
              <div id="method-i-login_featured_observations_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">520</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">login_featured_observations</span>
<span class="line-num">521</span>   <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">cache</span>.<span class="ruby-identifier">fetch</span>( <span class="ruby-node">&quot;Site::#{id}::login_featured_observations&quot;</span>, <span class="ruby-value">expires_in:</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">hour</span> ) <span class="ruby-keyword">do</span>
<span class="line-num">522</span>     <span class="ruby-identifier">es_query</span> = {
<span class="line-num">523</span>       <span class="ruby-value">has:</span> [<span class="ruby-string">&quot;photos&quot;</span>],
<span class="line-num">524</span>       <span class="ruby-value">per_page:</span> <span class="ruby-value">100</span>,
<span class="line-num">525</span>       <span class="ruby-value">order_by:</span> <span class="ruby-string">&quot;votes&quot;</span>,
<span class="line-num">526</span>       <span class="ruby-value">order:</span> <span class="ruby-string">&quot;desc&quot;</span>,
<span class="line-num">527</span>       <span class="ruby-value">place_id:</span> <span class="ruby-identifier">try</span>(<span class="ruby-value">:place_id</span>).<span class="ruby-identifier">blank?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">place_id</span>,
<span class="line-num">528</span>       <span class="ruby-value">projects:</span> [<span class="ruby-string">&quot;log-in-photos&quot;</span>]
<span class="line-num">529</span>     }
<span class="line-num">530</span>     <span class="ruby-identifier">observations</span> = <span class="ruby-constant">Observation</span>.<span class="ruby-identifier">elastic_query</span>( <span class="ruby-identifier">es_query</span> ).<span class="ruby-identifier">to_a</span>
<span class="line-num">531</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">observations</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">532</span>       <span class="ruby-identifier">es_query</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:projects</span>)
<span class="line-num">533</span>       <span class="ruby-identifier">observations</span> = <span class="ruby-constant">Observation</span>.<span class="ruby-identifier">elastic_query</span>( <span class="ruby-identifier">es_query</span> ).<span class="ruby-identifier">to_a</span>
<span class="line-num">534</span>     <span class="ruby-keyword">end</span>
<span class="line-num">535</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">observations</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">536</span>       <span class="ruby-identifier">es_query</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:place_id</span>)
<span class="line-num">537</span>       <span class="ruby-identifier">observations</span> = <span class="ruby-constant">Observation</span>.<span class="ruby-identifier">elastic_query</span>( <span class="ruby-identifier">es_query</span> ).<span class="ruby-identifier">to_a</span>
<span class="line-num">538</span>     <span class="ruby-keyword">end</span>
<span class="line-num">539</span>     <span class="ruby-constant">Observation</span>.<span class="ruby-identifier">preload_associations</span>( <span class="ruby-identifier">observations</span>, [<span class="ruby-value">:user</span>, {
<span class="line-num">540</span>       <span class="ruby-value">observations_places:</span> <span class="ruby-value">:place</span>,
<span class="line-num">541</span>       <span class="ruby-value">observation_photos:</span> {
<span class="line-num">542</span>         <span class="ruby-value">photo:</span> [<span class="ruby-value">:flags</span>, <span class="ruby-value">:file_prefix</span>, <span class="ruby-value">:file_extension</span>]
<span class="line-num">543</span>       },
<span class="line-num">544</span>       <span class="ruby-value">taxon:</span> <span class="ruby-value">:taxon_names</span>,
<span class="line-num">545</span>     }] )
<span class="line-num">546</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">es_query</span>[<span class="ruby-value">:projects</span>].<span class="ruby-identifier">blank?</span>
<span class="line-num">547</span>       <span class="ruby-identifier">observations</span> = <span class="ruby-identifier">observations</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span>
<span class="line-num">548</span>         <span class="ruby-identifier">photo</span> = <span class="ruby-identifier">o</span>.<span class="ruby-identifier">observation_photos</span>.<span class="ruby-identifier">sort_by</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">op</span><span class="ruby-operator">|</span> <span class="ruby-identifier">op</span>.<span class="ruby-identifier">position</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">op</span>.<span class="ruby-identifier">id</span> }.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">photo</span>
<span class="line-num">549</span>       <span class="ruby-keyword">end</span>
<span class="line-num">550</span>     <span class="ruby-keyword">end</span>
<span class="line-num">551</span>     <span class="ruby-identifier">observations</span>
<span class="line-num">552</span>   <span class="ruby-keyword">end</span>
<span class="line-num">553</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-method_missing">
            
              <b>method_missing</b>( method, *args, &amp;block )
            
            <a href="../classes/Site.html#method-i-method_missing" name="method-i-method_missing" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-method_missing_source')" id="l_method-i-method_missing_source">show</a>
                

                

                
              </p>
              <div id="method-i-method_missing_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">417</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">method_missing</span>( <span class="ruby-identifier">method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
<span class="line-num">418</span>   <span class="ruby-identifier">preferences</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">include?</span>( <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> ) <span class="ruby-operator">?</span> <span class="ruby-identifier">preferences</span>[<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">super</span>
<span class="line-num">419</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-ratatosk_name_providers">
            
              <b>ratatosk_name_providers</b>()
            
            <a href="../classes/Site.html#method-i-ratatosk_name_providers" name="method-i-ratatosk_name_providers" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-ratatosk_name_providers_source')" id="l_method-i-ratatosk_name_providers_source">show</a>
                

                

                
              </p>
              <div id="method-i-ratatosk_name_providers_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">468</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ratatosk_name_providers</span>
<span class="line-num">469</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ratatosk_name_providers_array</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">470</span> 
<span class="line-num">471</span>   <span class="ruby-identifier">ratatosk_name_providers_array</span>.<span class="ruby-identifier">split</span>( <span class="ruby-string">&quot;,&quot;</span> ).<span class="ruby-identifier">map</span>( <span class="ruby-operator">&amp;</span><span class="ruby-value">:strip</span> )
<span class="line-num">472</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-refresh_default_site">
            
              <b>refresh_default_site</b>()
            
            <a href="../classes/Site.html#method-i-refresh_default_site" name="method-i-refresh_default_site" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-refresh_default_site_source')" id="l_method-i-refresh_default_site_source">show</a>
                

                

                
              </p>
              <div id="method-i-refresh_default_site_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">484</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">refresh_default_site</span>
<span class="line-num">485</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Site</span>.<span class="ruby-identifier">default</span>&amp;.<span class="ruby-identifier">id</span>
<span class="line-num">486</span> 
<span class="line-num">487</span>   <span class="ruby-constant">Site</span>.<span class="ruby-identifier">default</span>( <span class="ruby-value">refresh:</span> <span class="ruby-keyword">true</span> )
<span class="line-num">488</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-respond_to-3F">
            
              <b>respond_to?</b>( method, include_all = false )
            
            <a href="../classes/Site.html#method-i-respond_to-3F" name="method-i-respond_to-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>rubocop:disable Style/OptionalBooleanParameter</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-respond_to-3F_source')" id="l_method-i-respond_to-3F_source">show</a>
                

                

                
              </p>
              <div id="method-i-respond_to-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">408</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">respond_to?</span>( <span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_all</span> = <span class="ruby-keyword">false</span> )
<span class="line-num">409</span>   <span class="ruby-identifier">preferences</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">include?</span>( <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> ) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">super</span>
<span class="line-num">410</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-respond_to_missing-3F">
            
              <b>respond_to_missing?</b>( name, include_private )
            
            <a href="../classes/Site.html#method-i-respond_to_missing-3F" name="method-i-respond_to_missing-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              <p>rubocop:enable Style/OptionalBooleanParameter</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-respond_to_missing-3F_source')" id="l_method-i-respond_to_missing-3F_source">show</a>
                

                

                
              </p>
              <div id="method-i-respond_to_missing-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">413</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">respond_to_missing?</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">include_private</span> )
<span class="line-num">414</span>   <span class="ruby-identifier">preferences</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">include?</span>( <span class="ruby-identifier">name</span> ) <span class="ruby-operator">||</span> <span class="ruby-keyword">super</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">include_private</span> )
<span class="line-num">415</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-short_url">
            
              <b>short_url</b>()
            
            <a href="../classes/Site.html#method-i-short_url" name="method-i-short_url" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-short_url_source')" id="l_method-i-short_url_source">show</a>
                

                

                
              </p>
              <div id="method-i-short_url_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">490</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">short_url</span>
<span class="line-num">491</span>   <span class="ruby-identifier">url</span>.<span class="ruby-identifier">sub</span>( <span class="ruby-regexp">%r{https?://}</span>, <span class="ruby-string">&quot;&quot;</span> ).<span class="ruby-identifier">sub</span>( <span class="ruby-regexp">%r{/$}</span>, <span class="ruby-string">&quot;&quot;</span> )
<span class="line-num">492</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-taxon_describers">
            
              <b>taxon_describers</b>()
            
            <a href="../classes/Site.html#method-i-taxon_describers" name="method-i-taxon_describers" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-taxon_describers_source')" id="l_method-i-taxon_describers_source">show</a>
                

                

                
              </p>
              <div id="method-i-taxon_describers_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">474</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">taxon_describers</span>
<span class="line-num">475</span>   <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">taxon_describers_array</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">476</span> 
<span class="line-num">477</span>   <span class="ruby-identifier">taxon_describers_array</span>.<span class="ruby-identifier">split</span>( <span class="ruby-string">&quot;,&quot;</span> ).<span class="ruby-identifier">map</span>( <span class="ruby-operator">&amp;</span><span class="ruby-value">:strip</span> )
<span class="line-num">478</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../classes/Site.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-to_s_source')" id="l_method-i-to_s_source">show</a>
                

                

                
              </p>
              <div id="method-i-to_s_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">371</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_s</span>
<span class="line-num">372</span>   <span class="ruby-node">&quot;&lt;Site #{id} #{name} #{url}&gt;&quot;</span>
<span class="line-num">373</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 class="title method-title" id="method-i-using_recaptcha-3F">
            
              <b>using_recaptcha?</b>()
            
            <a href="../classes/Site.html#method-i-using_recaptcha-3F" name="method-i-using_recaptcha-3F" class="permalink">Link</a>
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                 Source: 

                
                  <a href="javascript:toggleSource('method-i-using_recaptcha-3F_source')" id="l_method-i-using_recaptcha-3F_source">show</a>
                

                

                
              </p>
              <div id="method-i-using_recaptcha-3F_source" class="dyn-source">
                <pre>    <span class="ruby-comment"># File app/models/site.rb</span>
<span class="line-num">480</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">using_recaptcha?</span>
<span class="line-num">481</span>   <span class="ruby-operator">!</span><span class="ruby-identifier">google_recaptcha_key</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">google_recaptcha_secret</span>.<span class="ruby-identifier">blank?</span>
<span class="line-num">482</span> <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </main>
  </body>
</html>
